<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hermes</title>
    <link rel="stylesheet" href="styles/uistyles.css">
    <link href="https://fonts.googleapis.com/css2?family=Caesar+Dressing&display=swap" rel="stylesheet">
  </head>
  <body>
    <!-- Header -->
    <div class="title-bar">
      <div class="app-title-section">
        <img src="icons/icon64.png" alt=" " class="header-icon">
        <span class="app-title">Hermes</span>
      </div>
      <!--<div class="window-controls"><button id="minimize" title="Float">_</button><button id="maximize" title="Dock">⬜</button></div>-->
    </div>
    <!--<div id="hermes-link-banner" data-show="false"><div class="row"><strong id="hermes-link-status">Not linked</strong><span class="small" id="hermes-link-target"></span><button id="hermes-btn-relink" title="Link Hermes to this tab">Relink to this tab</button><button id="hermes-btn-goto" title="Switch to the linked tab">Go to linked tab</button></div><div class="small" id="hermes-link-hint"></div></div>-->
    <!--
	  <div id="hermes-link-banner" data-show="false"><div class="row row-status"><strong id="hermes-link-status">Linked</strong><span class="small" id="hermes-link-target"></span></div><div class="row row-actions"><button class="menu-btn" id="hermes-btn-relink" title="Link Hermes to this tab">
      Relink to this tab
    </button><button class="menu-btn" id="hermes-btn-goto" title="Switch to the linked tab">
      Go to linked tab
    </button></div><div class="small" id="hermes-link-hint"></div></div>
-->
    <div id="hermes-link-banner" data-show="false">
      <div class="row row-status">
        <strong id="hermes-link-status">Linked</strong>
        <span class="small" id="hermes-link-target"></span>
      </div>
      <div class="small" id="hermes-link-hint"></div>
    </div>
    <!-- Menu Bar -->
    <div class="menu-bar">
      <!-- Admin Dropdown -->
      <div class="dropdown">
        <button class="menu-btn">Admin</button>
        <div class="dropdown-content">
          <a href="#" id="clear-all-data">Clear All Data</a>
          <a href="#" id="clear-client-data">Clear Client Data</a>
          <a href="#" id="view-client-data">View Client Data</a>
          <a href="#" id="export-csv">Export CSV</a>
          <a href="#" id="export-json">Export JSON</a>
          <a href="#" id="import-data">Import</a>
        </div>
      </div>
      <!-- Session Menu -->
      <div class="dropdown">
        <button class="menu-btn">Session</button>
        <div class="dropdown-content">
          <a href="#" id="hermes-btn-relink">Relink This Tab</a>
          <a href="#" id="hermes-btn-goto">Go to Linked Tab</a>
        </div>
      </div>
      <!-- Links Menu -->
      <div class="dropdown">
        <button class="menu-btn">Links</button>
        <div class="dropdown-content">
          <a href="#" id="links-boomi">Boomi</a>
          <a href="#" id="links-install-integrations">Install Integrations</a>
          <a href="#" id="links-developer-portal">Developer Portal</a>
        </div>
      </div>
      <!-- API Menu
            <div class="dropdown"><button class="menu-btn">API</button><div class="dropdown-content"><a href="#" id="api-library">
                  Open API Library
                  <span class="menu-icon"><img src="icons/external-link.png" alt="External Link"></span></a></div></div> -->
      <!-- Theme Selector -->
      <div class="dropdown">
        <button class="menu-btn">Themes</button>
        <div class="dropdown-content">
          <label for="theme-selector">Select Theme:</label>
          <select id="theme-selector"></select>
        </div>
      </div>
      <!-- Help Menu -->
      <div class="dropdown">
        <button class="menu-btn">Help</button>
        <div class="dropdown-content">
          <a href="#" id="help-about">About</a>
          <a href="#" id="help-support">Support</a>
        </div>
      </div>
    </div>
    <!-- Main Body -->
    <div class="main-body">
      <!-- Client URL -->
      <div class="form-group-client-url">
        <label for="client-url">API Access Client URL</label>
        <input type="text" id="client-url" class="input-box" placeholder="https://
										<tenant>.mykronos.com/..." readonly>
        <button class="btn" id="refresh-client-url">Refresh URL</button>
        <button class="btn" id="copy-client-url">Copy URL</button>
      </div>
      <!-- Client ID -->
      <div class="form-group-client-id">
        <label for="client-id">API Access Client ID</label>
        <input type="text" id="client-id" class="input-box" placeholder="Enter Client ID">
        <button class="btn" id="save-client-id">Save Client ID</button>
      </div>
      <!-- Access Token -->
      <div class="form-group-access-token">
        <label for="access-token">Access Token</label>
        <input type="text" id="access-token" class="input-box" placeholder="Get Token" readonly>
        <div class="btn-timer-group">
          <button class="btn" id="get-token">Get Access Token</button>
          <button class="btn" id="copy-token">Copy Access Token</button>
          <span class="timer" id="timer">--:--</span>
        </div>
      </div>
    </div>
<!-- Inactive overlay: shown when this panel is not on the linked WFM tab -->
<div id="inactive-overlay" hidden>
  <div class="overlay-card">
    <h4>Hermes is active on your WFM tab</h4>
    <p>Return to the linked tab to edit, or relink this tab.</p>
    <div class="overlay-actions">
      <button class="menu-btn" id="overlay-goto">Go to linked tab</button>
      <button class="menu-btn" id="overlay-relink">Relink this tab</button>
    </div>
  </div>
</div>

    <!-- Collapsible Wrapper for Client Secret and Refresh Token -->
    <div class="collapsible-rto-section">
      <button class="collapsible-rto-toggle" id="toggle-refresh-token-options">▼ Show Refresh Token Options ▼</button>
      <div class="collapsible-rto-content" id="refresh-token-options-content">
        <!-- Client Secret -->
        <div class="form-group-client-secret">
          <label for="client-secret">API Access Client Secret</label>
          <div class="client-secret-container">
            <input type="password" id="client-secret" class="input-box" placeholder="Enter Client Secret">
            <img id="toggle-client-secret" class="input-icon" src="icons/eyeopen.png" alt="Toggle Visibility" title="Toggle Visibility">
          </div>
          <button class="btn" id="save-client-secret">Save Client Secret</button>
        </div>
        <!-- Refresh Token -->
        <div class="form-group-refresh-token">
          <label for="refresh-token">Refresh Token</label>
          <input type="text" id="refresh-token" class="input-box" placeholder="Get Access Token" readonly>
          <div class="refresh-btn-timer-group">
            <button class="btn" id="refresh-access-token">Refresh Access Token</button>
            <button class="btn" id="copy-refresh-token">Copy Refresh Token</button>
            <span class="refresh-timer" id="refresh-timer">--:--</span>
          </div>
        </div>
      </div>
    </div>
    <!-- Collapsible Wrapper for API Library -->
    <div class="collapsible-api-section">
      <button class="collapsible-api-toggle" id="toggle-api-library">▼ Show API Library ▼</button>
      <div class="collapsible-api-content" id="api-library-content">
        <!-- API Library -->
        <div class="form-group-api">
          <label for="api-selector">API Request</label>
          <select id="api-selector" class="api-selector-box">
            <option value="" disabled selected>Select API...</option>
          </select>
          <!-- <div id="parameter-container"></div> -->
          <div id="parameter-section">
            <!-- <p>Select an API to view its parameters.</p> -->
            <div id="query-parameters-container" class="parameter-container"></div>
            <div id="body-parameters-container" class="parameter-container"></div>
          </div>
          <!--<button class="btn" id="execute-api">Send Request</button> -->
          <div class="button-group">
            <button id="execute-api" class="btn2">Send Request</button>
            <button id="view-request-details" class="btn2">Request Details</button>
            <button id="download-response" class="btn2" disabled>Download Response</button>
            <button id="copy-api-response" class="btn2">Copy Response</button>
            <button class="btn2" id="save-my-api">Save Ad-Hoc To My Library</button>
          </div>
          <div id="response-section" class="response-section">
            <!--<button id="popout-response" class="btn3">
					Popout Response 
					<img src="icons/external-link.png" alt="Popout" class="btn-icon"></button>-->
            <pre>Awaiting API Send Request & Response...</pre>
            <!-- Response will appear here -->
          </div>
        </div>
      </div>
    </div>
    <!-- Scripts -->
    <script type="module" src="scripts/main.js"></script>
  </body>
</html>